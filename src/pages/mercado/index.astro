---
import BaseLayout from '../../layouts/BaseLayout.astro'
import Card from '../../components/cards/card.astro'
import { CardsJSX } from '../../components/cards/cardsJSX'

const response = await fetch('https://mercado.webapp.ar/api/')
const data = await response.json()
---

<BaseLayout title="Mercado" max="max-w-[90rem]">
  <div class="container max-w-[90rem] m-auto">
    <!-- <GradientTitle client:only withColor={'Bienvenido'} withoutColor={''} /> -->
    <div class="mt-16 md:mt-0">
      <h2 class="text-4xl lg:text-5xl font-bold lg:tracking-tight">
        Mercado Web App
      </h2>
      <p class="text-lg mt-4 text-slate-500">
        Ecommerce about a Mercado (Shop)
      </p>
    </div>
    <h1 class="font-bold mt-8">
      Productos (Only a Fetch in Build Time, Astro Component)
    </h1>
    <div class="grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
      {
        data.map(
          (item: {
            titulo: string
            descripcion: string
            imagen: string
            precio: string
          }) => (
            <Card
              title={item.titulo}
              description={item.descripcion}
              image={item.imagen}
              price={item.precio}
            />
          ),
        )
      }
    </div>
    <h1 class="font-bold mt-8">
      Ofertas (Fetch in Render Time, React Component)
    </h1>
    <div class="grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
      <CardsJSX client:only />
    </div>
  </div>
  <br />
  <!-- <div>{JSON.stringify(data)}</div> -->
</BaseLayout>
